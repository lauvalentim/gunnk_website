<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./GUNK-_2_.ico">
  <title> Madonna In Rio | Gunk</title>
  <script src="https://unpkg.com/three"></script>
  <script src="https://unpkg.com/3d-force-graph"></script>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <style>
    body {
      font-family: "SF Pro Display", Arial, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background: linear-gradient(-145deg, #343434d0, #211f1f);
      overflow: hidden;
    }
    svg {
      border: none;
      background: linear-gradient(-145deg, #191919d0, #211f1f)
    }

    .legend-container {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: rgba(255, 255, 255, 0.448);
      backdrop-filter: blur(10px);
      padding: 12px;
      border-radius: 12px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
      font-family: Arial, sans-serif;
      border: none;
    }

    .legend-title {
      font-size: 14px;
      font-weight: bold;
      margin-bottom: 8px;
      text-align: center;
      color: #2b2b2b;
    }

    .legend-items {
      display: flex;
      flex-direction: column;
      gap: 8px;
      color: #3f3f3f;
      font-size: 13px;
    }

    .legend-color {
      width: 13px;
      height: 13px;
      border-radius: 50%;
      margin-right: 8px;
      display: inline-block;
      border: 1px solid rgba(102, 102, 102, 0.5);
    }
    
    /* Bot√£o de voltar */
    #back-button {
      position: absolute;
      top: 20px;
      left: 30px;
      padding: 12px 15px;
      font-size: 15px;
      background: rgba(255, 255, 255, 0.448);
      border-radius: 50%;
      color: rgb(40, 39, 39);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
      cursor: pointer;
      z-index: 10;
      border-radius: 50%;
    }
    
    #back-button:hover {
      background: rgba(197, 0, 26, 0.778);
      color: rgba(127, 1, 18, 0.778);
      transform: scale(1.05);
    }

    /* Estilo do bot√£o de abrir o menu */
    #menu-toggle {
      position: absolute;
      top: 20px;
      right: 30px;
      padding: 12px 13px;
      font-size: 15px;
      background: rgba(255, 255, 255, 0.448);
      backdrop-filter: blur(10px);
      border-radius: 25%;
      color: #2b2b2b;
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 9px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
      cursor: pointer;
      z-index: 10;
      border: none;
    }

    #menu-toggle:hover {
      background: rgba(197, 0, 26, 0.778);
      color: rgba(127, 1, 18, 0.778);
      transform: scale(1.05);
    }

    /* Painel de Informa√ß√µes */
    #info-panel {
      position: fixed;
      top: 0;
      right: -450px; /* Esconde o menu fora da tela */
      width: 350px;
      height: 100vh; /* Garante que ocupa toda a altura da tela */
      background: rgba(210, 210, 210, 0.381);
      backdrop-filter: blur(15px);
      border-left: none;
      box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
      transition: right 0.3s ease-in-out;
      display: flex;
      flex-direction: column;
      align-items: center; 
      overflow: hidden;
      padding: 10px;
    }

    #info-panel.open {
      right: 0; /* Mostra o menu */
    }

    /* Bot√£o de Fechar */
    #close-btn {
      align-self: flex-end;
      background: rgba(255, 255, 255, 0.3);
      border: none;
      padding: 5px 10px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 50%;
      transition: background 0.3s ease-in-out;
    }
    
    #close-btn:hover {
      background: rgba(197, 0, 26, 0.778);
      color: rgba(127, 1, 18, 0.778);
    }

    /* Bot√µes do menu */
    .info-tab {
      width: 90%;
      padding: 15px;
      padding-right: 20px;
      padding-left: 10px;
      margin: 5px 0;
      border: none;
      background: rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(10px);
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: background 0.3s ease-in-out;
    }

    .info-tab:hover {
      background: rgba(69, 69, 69, 0.274);
    } 

    /* Se√ß√µes de Conte√∫do */
    .info-section {
      position: absolute;
      top: 0;
      left: 100%;
      width: 100%;
      height: 100%; /* Garante que ocupa todo o painel */
      opacity: 0;
      border-radius: 30%;
      transform: translateX(100%);
      transition: transform 0.4s ease-in-out, opacity 0.3s ease-in-out;
      padding: 2px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(15px);
      display: flex;
      flex-direction: column;
      justify-content: flex-start; /* Alinha o conte√∫do ao topo */
      align-items: center;
      overflow-y: auto; /* Adiciona barra de rolagem vertical */
    }

    .info-section.active {
      display: block;
      left: 0;
      opacity: 1;
      transform: translateX(0);
    }

    /* Estiliza a barra de rolagem na vertical */
    .info-section::-webkit-scrollbar {
      width: 8px; /
    }

    .info-section::-webkit-scrollbar-track {
      background: #444040; /* Cor do fundo */
      border-radius: 8px;
    }

    .info-section::-webkit-scrollbar-thumb {
      background: #b0b0b0; /* Cor da barra de rolagem */
      border-radius: 5px;
    }

   .info-section::-webkit-scrollbar-thumb:hover {
     background: #016492; /* Cor mais vibrante ao passar o mouse */
    }

    .back-to-menu {
      margin-top: 10px;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.3);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s ease-in-out;
    }

    .back-to-menu:hover {
      background: rgba(197, 0, 26, 0.778);
      color: rgba(127, 1, 18, 0.778);
    }

    /* Estilo Info-Section */
    #info-content {
      flex: 1; 
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
      display: flex;
    }
 
    .info-section {
      position: absolute;
      top: 0;
      left: 100%;
      width: 80%;
      height: 100%; 
      max-width: 600px;
      opacity: 0;
      transform: translateX(100%);
      transition: transform 0.4s ease-in-out, opacity 0.3s ease-in-out;
      padding: 20px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(15px);
      display: flex;
      flex-direction: column;
      justify-content: flex-start; 
      align-items: center;
      overflow-y: auto; 
      border-radius: 18px; 
      text-align: justify;
      line-height: 1.6;
      font-size: 14px;
    }

    .info-section h3 {
      text-align: center;
      margin-bottom: 15px;
      font-size: 18px;
      font-weight: bold;
    }

    .info-section h4 {
      font-size: 15px;
      margin-top: 10px;
    }

    /* Mostra a se√ß√£o ativa com anima√ß√£o */
    .info-section.active {
      left: 0;
      opacity: 1;
      transform: translateX(0);
    }

    .info-section p {
      width: 95%;
      max-width: 550px; /* Mant√©m a leitura confort√°vel */
      text-align: justify;
      font-size: 13px;
      line-height: 1.5;
      padding: 8px 0;
    }

    .info-section ul {
      list-style: none;
      padding: 0;
      width: 90%;
      max-width: 550px;
    }

    .info-section ul li {
      margin-bottom: 6px;
      font-size: 13px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .info-section ul li::before {
      content: "üìå"; /* Adiciona um √≠cone de marcador */
    }
    
    /* Bot√£o de voltar ao menu */
    .back-to-menu {
      position: absolute;
      top: 10px;
      left: 10px;
      background: rgba(180, 180, 180, 0.15);
      color: rgb(114, 105, 105);
      border: none;
      padding: 6px 12px;
      border-radius: 100%;
      cursor: pointer;
      transition: background 0.3s ease-in-out;
    }

    .back-to-menu:hover {
      background: rgba(231, 63, 63, 0.5);
    }

    /* Melhor espa√ßamento nos textos */
    .info-section h3 {
      margin-top: 40px;
      font-size: 18px;    
      color: rgb(49, 47, 47);
    }

    .info-section p {
      font-size: 14px;
      line-height: 1.5;
      color: rgb(49, 47, 47);
    }

    #info-menu {
      display: flex;
      flex-direction: column;
      align-items: start;
      padding: 10px;
      margin-top: 10px;
    }

    #info-menu h2 {
      text-align: center;
    }

    .info-section ul h4 {
      text-align: start;
    }

    .info-section ul {
      list-style: none;
      padding: 10px;
      width: 90%;
      max-width: 600px;
      text-align: start;
      font-size: 13px;
      border: none;
      border-radius: 10px;
      background-color: #cecece94;
      display: block;
    }

    .info-section ul li {
      margin-bottom: 6px;
      font-size: 13px;
      display: block;
      align-items: start;
    }

    .info-section ul li::before {
      font-size: 14px;
      content: "¬∞"; /* Adiciona um √≠cone de marcador */
    }

    #info-menu.hidden {
      opacity: 0;
      transform: translateX(-100%);
      pointer-events: none;
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    }

    /* Painel principal das se√ß√µes */
    #info-content {
      flex: 1; 
      width: 100%;
      height: 100%;
      position: relative;
      overflow: hidden;
      display: flex;
    }

    table {
    width: 80%;
    border-collapse:collapse;
    margin-top: none;
    margin-bottom: 2px;
    }
    
    th, td {
      border: 1px solid #5f5f5f;
      padding: 10px;
      text-align: left;
    }
    
    th {
      background: #c8c8c8;
    }

    #user-term-table {
    width: 80%; /* Diminui a largura total da tabela */
    max-width: 600px; /* Define um limite m√°ximo para evitar tabelas muito largas */
    margin: 10px auto; /* Centraliza e adiciona espa√ßo ao redor */
    font-size: 13px; /* Reduz o tamanho da fonte */
    border-collapse: collapse;
    }
    
    #user-term-table th, #user-term-table td {
      padding: 8px; /* Reduz o espa√ßamento interno */
      text-align: left;
      border: 1px solid #ccc;
    }
    
    #user-term-table th {
      background: #f2f2f2;
      font-size: 13px; /* Mant√©m o cabe√ßalho um pouco maior */
    }

    #user-term-table tr:last-child td {
      padding-bottom: 30px; /* Aumenta o espa√ßamento inferior */
    }

    #toggle-view {
      position: absolute;
      top: 20px; /* Define a posi√ß√£o no topo */
      left: 50%; /* Centraliza horizontalmente */
      transform: translateX(-50%); /* Corrige a centraliza√ß√£o exata */
      padding: 12px 15px;
      font-size: 12px;
      color: #2b2b2b;
      background: rgba(255, 255, 255, 0.448);
      border-radius: 10px;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
      cursor: pointer;
      z-index: 10;
      border: none;
    }

    #toggle-view:hover {
      background: rgba(197, 0, 26, 0.778);
      color: rgba(127, 1, 18, 0.778);
      transform: translateX(-50%) scale(1.05); /* Mant√©m a centraliza√ß√£o ao passar o mouse */
    }

    /* (Preloader) */
    #preloader {
      position: fixed;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #940909, #9b0707); /* Gradiente escuro e sofisticado */
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      color: white;
      font-size: 20px;
      font-family: "Arial", sans-serif;
      text-align: center;
      z-index: 9999;
      opacity: 1;    
      transition: opacity 0.5s ease-in-out;
    }

    .loader {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #d7dde4, #ca0101);
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(255, 204, 0, 0.714);
      animation: pulse 1.5s infinite alternate ease-in-out;
      margin-bottom: 15px;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
        box-shadow: 0 0 15px rgba(183, 15, 6, 0.6);
    }
    100% {
        transform: scale(1.3);
        box-shadow: 0 0 25px rgb(227, 33, 3);
    }
  }

  .hidden {
    opacity: 0;
    transition: opacity 0.5s ease-out;
    pointer-events: none;
  }

  #loading-text {
    font-size: 18px;
    font-weight: bold;
    letter-spacing: 2px;
    overflow: hidden;
    white-space: nowrap;
    width: 0;
    animation: typing 2s steps(15, end) forwards;
  }

  @keyframes typing {
    from { width: 0; }
    to { width: 150px; }
  }

  .hidden {
    opacity: 0;
    transition: opacity 1s ease-out;
    pointer-events: none;
  }
  </style>
</head>
<body>
  <div id="preloader">
    <div class="loader"></div>
    <p>Carregando: Madonna In Rio</p>
</div>
  <div id="graph-container"></div>  
<div id="graph"></div>
<!-- Bot√µes -->
<a href="http://gunnk.com/viz" id="back-button">‚Æå</a>
<button id="toggle-view">Switch</button>
<button id="menu-toggle">‚Ñπ Menu</button>

<div class="legend-container">
  <div class="legend-title">üìå Legenda</div>
  <div class="legend-items">
    <!-- Itens da legenda ser√£o adicionados dinamicamente via JavaScript -->
  </div>
</div>

<!-- Painel de Informa√ß√µes -->
<div id="info-panel">
  <button id="close-btn">‚úñ</button>

  <!-- Menu Principal -->
  <div id="info-menu">
    <h2>Menu de Informa√ß√µes</h2>
    <button class="info-tab" data-tab="intro">üîµIntrodu√ß√£o</button>
    <button class="info-tab" data-tab="general">üü°An√°lise Geral</button>
    <button class="info-tab" data-tab="context">üü£Base de Dados</button>
    <button class="info-tab" data-tab="graph-info">üî¥Organiza√ß√£o do Grafo</button>
    <button class="info-tab" data-tab="tools">üü†Ferramentas Utilizadas</button>
  </div>

  <!-- Se√ß√µes de Conte√∫do -->
  <div id="info-content">
    <div class="info-section" id="intro">
      <button class="back-to-menu">ü°Ñ</button>
      <h3>üîµ Introdu√ß√£o </h3>
        <div class="info-content">
            <p><strong>O que o grafo representa?</strong></p>
            <p>Esta visualiza√ß√£o interativa representa as intera√ß√µes entre usu√°rios e os principais termos discutidos no <strong>Twitter/X</strong> durante a semana do show da <strong>Madonna - The Celebration Tour in Rio</strong>, ocorrido em <strong>4 de maio de 2024</strong>.</p>
            
            <p>O grafo busca capturar a din√¢mica das conversas que aconteceram no Twitter ao longo do evento, identificando usu√°rios influentes e os temas mais relevantes debatidos na plataforma.</p>
        </div>
    
        <div class="info-content">
            <p><strong>üìå Como o grafo foi constru√≠do?</strong></p>
            <p>Os dados foram coletados entre os dias <strong>29 de abril e 4 de maio</strong>, abrangendo tanto o dia do show quanto a semana que antecedeu o evento. A partir desses tweets, processamos informa√ß√µes-chave para criar conex√µes significativas entre usu√°rios e termos.</p>
    
            <p>Cada n√≥ (<strong>ponto no grafo</strong>) representa um <strong>usu√°rio</strong> ou um <strong>termo</strong>, e cada conex√£o entre eles indica a associa√ß√£o entre um perfil e uma palavra-chave usada em suas publica√ß√µes.</p>
        </div>
    
        <div class="info-content">
            <p><strong>üïµ O que podemos observar na rede?</strong></p>
            <ul>
                <li><strong>Usu√°rios influentes:</strong> perfis que geraram maior impacto na conversa sobre o evento.</li>
                <li><strong>Tend√™ncias de discuss√£o:</strong> temas e hashtags que se destacaram ao longo da semana.</li>
                <li><strong>Conex√µes entre pessoas e palavras-chave:</strong> mostrando como diferentes grupos participaram das conversas.</li>
            </ul><br>
        </div>
     </div>     

    <div class="info-section" id="general">
      <button class="back-to-menu">ü°Ñ</button>
        <h3>üü°An√°lise Geral</h3>  
          <div class="analysis-section">
            <div id="considerations" class="analysis-section">
              <h4>üìå Considera√ß√µes Gerais</h4>
              <p>
                  A an√°lise do grafo revelou que a conversa sobre o show da Madonna foi altamente <strong>centralizada</strong>, com poucos usu√°rios dominando a narrativa e uma grande concentra√ß√£o de termos em um √∫nico cluster. Isso sugere que a comunica√ß√£o sobre o evento seguiu uma <strong>linha narrativa homog√™nea</strong>, impulsionada - mais fortemente - por perfis influentes e marcas com alto impacto na rede, e n√£o de uma forma org√¢nica entre os usu√°rios.
              </p>
              <p>
                  Al√©m disso, a presen√ßa de portais de not√≠cias e perfis comerciais como hubs centrais indica que a <strong>cobertura midi√°tica</strong> teve um papel significativo na constru√ß√£o da discuss√£o. A predomin√¢ncia de termos como <em>"madonnacelebrationtourinrio", "show" e "copacabana"</em> refor√ßa que a narrativa principal girou em torno da <strong>grandeza e da experi√™ncia do evento</strong>, com pouca segmenta√ß√£o tem√°tica.
              </p>
          </div>
          <h4>üìä Estat√≠sticas Gerais</h4>
              <ul>
                  <li><strong>N√∫mero total de n√≥s</strong> 305 (Usu√°rios e Termos combinados)</li>
                  <li><strong>N√∫mero total de arestas:</strong> 472 (Conex√µes entre usu√°rios e termos)</li>
                  <li><strong>Densidade do grafo:</strong> 0.010 (Rede dispersa com poucos hubs de influ√™ncia)</li>
              </ul>
          </div>
      
          <div class="analysis-section">
              <h4>üåü Principais Hubs de Influ√™ncia</h4>
              <ul>
                  <li><strong>SiteMadonnaBR</strong> - 35 conex√µes</li>
                  <li><strong>madonnacelebrationtourinrio</strong> - 32 conex√µes</li>
                  <li><strong>madonna</strong> - 28 conex√µes</li>
                  <li><strong>carlosalbanno</strong> - 27 conex√µes</li>
                  <li><strong>americanas</strong> - 25 conex√µes</li>
                  <li><strong>choquei</strong> - 21 conex√µes</li>
                  <li><strong>madonnainrio</strong> - 17 conex√µes</li>
                  <li><strong>QueriaSerVJ</strong> - 16 conex√µes</li>
                  <li><strong>horadafofocatv</strong> - 16 conex√µes</li>
              </ul>
          </div>
      
          <div class="analysis-section">
              <h4>üéØ Impact Score</h4>
              <ul>
                  <li>N√∫mero de conex√µes (grau do n√≥)</li>
                  <li>Import√¢ncia dentro da rede (intera√ß√µes recebidas e enviadas)</li>
                  <li>Peso das conex√µes (se algumas conex√µes t√™m mais influ√™ncia)</li>
              </ul>
          </div>
      
          <div class="analysis-section">
              <h4>üí° Principais Temas Discutidos</h4>
              <ul>
                  <li>üî• A turn√™ de <strong>Madonna</strong> e seu impacto na conversa.</li>
                  <li>üì∞ A presen√ßa de <strong>marcas e ve√≠culos de m√≠dia</strong> como "americanas" e "choquei".</li>
              </ul>
          </div>
      
          <div class="analysis-section">
              <h4>Como os Clusters Foram Definidos?</h4>
              <p>Os termos foram agrupados em clusters baseados em:</p>
              <ul>
                  <li>üìè <strong>Comprimento do termo</strong></li>
                  <li>üìà <strong>Impact Score do termo</strong></li>
              </ul>
              <p>Isso permitiu a cria√ß√£o de tr√™s clusters distintos:</p>
              <ul>
                  <li><strong>Cluster 1 (Vermelho Claro)</strong> ‚Üí Termos mais influentes na conversa.</li>
                  <li><strong>Cluster 2 (Laranja Claro)</strong> ‚Üí Termos de influ√™ncia intermedi√°ria.</li>
                  <li><strong>Cluster 3 (Amarelo Claro)</strong> ‚Üí Termos menos recorrentes, mas ainda relevantes.</li>
              </ul>
          </div>
      
          <div class="analysis-section">
              <h4>üìå Diferen√ßas entre Usu√°rios e Termos</h4>
              <table id="user-term-table">
                <tr>
                      <th>Grupo</th>
                      <th>Descri√ß√£o</th>
                      <th>Cor</th>
                  </tr>
                  <tr>
                      <td>Usu√°rios Large (Alto Impacto)</td>
                      <td>Perfis de alto engajamento na rede.</td>
                      <td style="background-color: #831008; color: white;">Vermelho Escuro</td>
                  </tr>
                  <tr>
                      <td>Usu√°rios Medium (M√©dio Impacto)</td>
                      <td>Perfis com participa√ß√£o moderada.</td>
                      <td style="background-color: #bb3d0c; color: white;">Laranja Escuro</td>
                  </tr>
                  <tr>
                      <td>Usu√°rios Small (Baixo Impacto)</td>
                      <td>Perfis menos influentes.</td>
                      <td style="background-color: #ecde18; color: black;">Amarelo Escuro</td>
                  </tr>
                  <tr>
                      <td>Cluster 1 (Termos)</td>
                      <td>Termos altamente influentes.</td>
                      <td style="background-color: #bb2e2e; color: white;">Vermelho Claro</td>
                  </tr>
                  <tr>
                      <td>Cluster 2 (Termos)</td>
                      <td>Termos com impacto intermedi√°rio.</td>
                      <td style="background-color: #f34806; color: white;">Laranja Claro</td>
                  </tr>
                  <tr>
                      <td>Cluster 3 (Termos)</td>
                      <td>Termos menos recorrentes.</td>
                      <td style="background-color: #eadb06; color: black;">Amarelo Claro</td>
                  </tr>
              </table>
          </div>
      </div>
           
    <div class="info-section" id="context">
      <button class="back-to-menu">ü°Ñ</button>
        <h3>üü£Base de Dados</h3>
            <p>Os dados foram coletados no <strong>Twitter/X</strong> entre os dias <strong>29 de abril e 4 de maio de 2024</strong>. O objetivo da coleta foi capturar as intera√ß√µes e tend√™ncias sobre o show da <strong>Madonna - The Celebration Tour in Rio</strong>. O dataset cont√©m informa√ß√µes sobre <strong>tweets, usu√°rios, intera√ß√µes e palavras-chave</strong> associadas ao evento.
            </p>
    
        <div class="info-content">
            <h4>üü£Estrutura do Dataset</h4>
            <p>O dataset √© composto por dados gerais, m√©tricas de rede e conte√∫do do usu√°rio, sendo os mais relevantes:</p>
               <ul>
                <li><strong>Engajamento:</strong></li>
                <ul>
                    <li><strong>Retweets:</strong> N√∫mero de vezes que o tweet foi retweetado.</li>
                    <li><strong>Comments:</strong> N√∫mero de coment√°rios no tweet.</li>
                    <li><strong>Favorites:</strong> Quantidade de curtidas recebidas.</li>
                </ul>
                <li><strong>Texto e Conte√∫do:</strong></li>
                <ul>
                    <li><strong>Tweet Text:</strong> O conte√∫do do tweet.</li>
                    <li><strong>Tweet Keywords:</strong> Lista de palavras-chave extra√≠das do texto.</li>
                    <li><strong>Topic Cluster:</strong> Classifica√ß√£o do tweet em um tema principal (exemplo: entretenimento).</li>
                </ul>
                <li><strong>Impacto e Influ√™ncia:</strong></li>
                <ul>
                    <li><strong>Impact Score Atualizado:</strong> Pontua√ß√£o que mede a relev√¢ncia do usu√°rio.</li>
                    <li><strong>Influence Rank:</strong> Classifica√ß√£o do usu√°rio com base no impacto.</li>
                </ul>
            </ul>
        </div>
    
        <div class="info-content">
            <h4>üü£Processamento dos Dados</h4>
            <p>Criamos um script em Python que foi respons√°vel pela estrutura√ß√£o dos dados no grafo, sendo as principais:</p>
            <ul>
                <li><strong>Clusteriza√ß√£o com K-Means:</strong> Os termos foram agrupados em <strong>tr√™s grupos tem√°ticos</strong>.</li>
                <li><strong>Categoriza√ß√£o de impacto:</strong> Usu√°rios foram classificados como <strong>Small, Medium ou Large</strong>, de acordo com a influ√™ncia.</li>
                <li><strong>Gera√ß√£o do grafo JSON:</strong> Criou conex√µes entre usu√°rios e termos para a visualiza√ß√£o.</li>
            </ul><br>
        </div>
    </div>
    
    <div class="info-section" id="graph-info">
      <button class="back-to-menu">ü°Ñ</button>
        <h3>üî¥ Organiza√ß√£o do Grafo</h3>
        <div class="info-content">
            <p>O grafo foi constru√≠do para representar as intera√ß√µes entre os <strong>usu√°rios mais influentes</strong> e os <strong>termos mais relevantes</strong> da discuss√£o sobre o evento.
            Cada <strong>n√≥</strong> (ponto no grafo) representa um <strong>usu√°rio</strong> ou um <strong>termo-chave</strong>.
            Cada <strong>aresta</strong> (linha conectando os n√≥s) indica a rela√ß√£o entre um usu√°rio e uma palavra-chave utilizada em seu tweet.</p>
        </div>
    
        <div class="info-content">
            <h4>üîπ Grupos e Classifica√ß√£o</h4>
            <p>Os usu√°rios foram categorizados em tr√™s grupos com base em seu impacto na rede:</p>
            <ul>
                <li><strong>Large:</strong> Usu√°rios com <strong>alto impacto</strong> na conversa.</li>
                <li><strong>Medium:</strong> Usu√°rios com <strong>impacto m√©dio</strong>.</li>
                <li><strong>Small:</strong> Usu√°rios com <strong>menor impacto</strong>.</li>
            </ul>
            <p>Os termos foram agrupados automaticamente usando <strong>clusteriza√ß√£o com K-Means</strong>, formando tr√™s grupos distintos.</p>
        </div>
    
        <div class="info-content">
            <h4>üî¥ Crit√©rios para Conex√µes</h4>
            <p>As conex√µes entre os n√≥s foram estabelecidas com base em regras espec√≠ficas:</p>
            <ul>
                <li> Cada <strong>usu√°rio</strong> foi conectado √†s <strong>principais palavras-chave</strong> que utilizou.</li>
                <li> Apenas conex√µes mais relevantes foram mantidas, eliminando <strong>n√≥s isolados</strong>.</li>
                <li> O peso das conex√µes foi determinado pelo <strong>Impact Score</strong> do usu√°rio.</li>
            </ul>
        </div>
    
        <div class="info-content">
            <h4>üî¥ Algoritmo e Layout do Grafo</h4>
            <p>O grafo utiliza um layout din√¢mico baseado no <strong>algoritmo force-directed</strong>, que distribui os n√≥s para evitar sobreposi√ß√£o e facilitar a visualiza√ß√£o.</p>
            <ul>
                <li> <strong>Cores personalizadas</strong> foram aplicadas para diferenciar os grupos de usu√°rios e termos. Mais escuras s√£o os usu√°rios, mais claras os termos</li>
                <li> O <strong>tamanho dos n√≥s</strong> √© proporcional ao <strong>impacto do usu√°rio ou termo na rede</strong>.</li>
                <li> O algoritmo ajusta automaticamente a disposi√ß√£o dos n√≥s para melhorar a <strong>compreens√£o das conex√µes</strong>.</li>
            </ul><br>
        </div>
    </div>              
    
    <div class="info-section" id="tools">
        <button class="back-to-menu">ü°Ñ</button>
        <h3>üü†Ferramentas Utilizadas</h3>    
        <div class="info-content">
            <p>Para estruturar os dados e prepar√°-los para o grafo, utilizamos:</p>
            <ul>
                <li>üêç <strong>Python + Pandas:</strong> Manipula√ß√£o e filtragem do dataset.</li>
                <li>üî¢ <strong>Scikit-learn (K-Means):</strong> Clusteriza√ß√£o dos termos para agrupar palavras-chave similares.</li>
                <li>üìù <strong>JSON:</strong> Convers√£o dos dados processados para um formato adequado para visualiza√ß√£o interativa.</li>
            </ul>
        </div>
    
        <div class="info-content">
            <h4>üü†Cria√ß√£o do Grafo</h4>
            <p>A visualiza√ß√£o do grafo foi desenvolvida utilizando:</p>
            <ul>
                <li>üìä <strong>D3.js:</strong> Biblioteca JavaScript para renderiza√ß√£o de grafos interativos.</li>
                <li>üñ•Ô∏è <strong>Three.js:</strong> Implementa√ß√£o de gr√°ficos 3D para melhor experi√™ncia visual.</li>
                <li>üåê <strong>HTML, CSS e JavaScript:</strong> Constru√ß√£o da interface e interatividade do painel de informa√ß√µes.</li>
            </ul>
        </div>
    
        <div class="info-content">
            <h4>üü†Destaques da Implementa√ß√£o</h4>
            <ul>
                <li><strong>Filtragem e clusteriza√ß√£o de dados:</strong> Identifica√ß√£o dos usu√°rios e termos mais relevantes.</li>
                <li><strong>Gera√ß√£o autom√°tica do grafo JSON:</strong> Transforma√ß√£o dos dados para visualiza√ß√£o din√¢mica.</li>
                <li><strong>Visualiza√ß√£o interativa:</strong> O grafo permite navega√ß√£o e an√°lise din√¢mica das conex√µes.</li>
            </ul><br>
        </div>
    </div>
    
    </div>
  </div>
</div>
<script>
// Carrega o grafo a partir do arquivo JSON
fetch('data01.json')
  .then(res => res.json())
  .then(data => {
    
    if (!data.nodes || !data.links) {
        console.error("Erro: JSON n√£o cont√©m 'nodes' ou 'links'.");
        return;
    }

    let is3D = true; // Inicia com a visualiza√ß√£o 3D

    function updateGraphView() {
        document.getElementById("graph-container").innerHTML = ""; // Limpa o container antes de alternar

        if (is3D) {
            renderGraph3D(data);
        } else {
            renderGraph2D(data);
        }
    }

    function renderGraph3D(data) {
        const Graph = ForceGraph3D()(document.getElementById("graph-container"))
            .graphData(data)
            .nodeLabel(node => `${node.id}`)
            .nodeVal(node => node.size * 1)
            .nodeColor(node => node.color) 
            .linkOpacity(0.3)
            .linkWidth(0.8)
            .backgroundColor('#1a1a1a');

        Graph.cameraPosition({ x: 0, y: 0, z: 650 });
    }

    function renderGraph2D(data) {
        const svg = d3.select("#graph-container").append("svg")
            .attr("width", window.innerWidth)
            .attr("height", window.innerHeight);

        const simulation = d3.forceSimulation(data.nodes)
            .force("link", d3.forceLink(data.links).id(d => d.id).distance(50))
            .force("charge", d3.forceManyBody().strength(-100))
            .force("center", d3.forceCenter(window.innerWidth / 2, window.innerHeight / 2));

        const link = svg.append("g")
           .selectAll("line")
           .data(data.links)
           .enter().append("line")
           .attr("stroke", "#aaa")
           .attr("stroke-opacity", 0.2);

        const node = svg.append("g")
            .selectAll("circle")
            .data(data.nodes)
            .enter().append("circle")
            .attr("r", 10)
            .attr("fill", d => d.color)
            .call(drag(simulation));

        const labels = svg.append("g")
            .selectAll("text")
            .data(data.nodes)
            .enter().append("text")
            .attr("font-size", "10px")
            .attr("fill", "#dadada")
            .attr("text-anchor", "middle")
            .attr("dy", -8)
            .text(d => d.id);

        function drag(simulation) {
            function dragstarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }

            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }

            function dragended(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }

            return d3.drag()
                .on("start", dragstarted)
                .on("drag", dragged)
                .on("end", dragended);
        }

        simulation.on("tick", () => {
            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);

            labels
                .attr("x", d => d.x)
                .attr("y", d => d.y);
        });
    }

    // üî• C√≥digo para corrigir o menu lateral e torn√°-lo clic√°vel
    const menuToggle = document.getElementById("menu-toggle");
    const infoPanel = document.getElementById("info-panel");
    const closeBtn = document.getElementById("close-btn");
    const infoMenu = document.getElementById("info-menu");
    const infoTabs = document.querySelectorAll(".info-tab");
    const infoSections = document.querySelectorAll(".info-section");
    const backButtons = document.querySelectorAll(".back-to-menu");

    // Abrir e fechar o menu corretamente
    if (menuToggle) {
        menuToggle.addEventListener("click", () => {
            infoPanel.classList.add("open");
            menuToggle.style.display = "none";
        });
    }

    if (closeBtn) {
        closeBtn.addEventListener("click", () => {
            infoPanel.classList.remove("open");
            resetSections();
            menuToggle.style.display = "block";
        });
    }

    // Alternar entre as se√ß√µes do menu
    infoTabs.forEach(tab => {
        tab.addEventListener("click", () => {
            infoMenu.style.display = "none";
            infoSections.forEach(section => section.classList.remove("active"));
            document.getElementById(tab.dataset.tab).classList.add("active");
        });
    });

    // Bot√£o para voltar ao menu principal
    backButtons.forEach(button => {
        button.addEventListener("click", () => {
            resetSections();
        });
    });

    // Fun√ß√£o para resetar as se√ß√µes do menu
    function resetSections() {
        infoMenu.style.display = "block";
        infoSections.forEach(section => section.classList.remove("active"));
    }

    // üî• Adicionando os bot√µes "Alternar para 3D/2D"

    const toggleViewBtn = document.getElementById("toggle-view");

    if (toggleViewBtn) {
      toggleViewBtn.addEventListener("click", function () {
        is3D = !is3D; // Alterna entre 3D e 2D
        updateGraphView();
    });
  }


    function updateLegend(data) {
    const legendContainer = document.querySelector(".legend-items");

    if (!legendContainer) {
        console.error("Elemento '.legend-items' n√£o encontrado.");
        return;
    }

    legendContainer.innerHTML = ""; // üî• Limpa a legenda antes de atualizar

    const colorMapping = {
        "Large": "#ad0b00",  // Vermelho Escuro
        "Medium": "#bb3d0c",  // Laranja Escuro
        "Small": "#ecde18",  // Amarelo Escuro
        "term_cluster_1": "#d33c3d", // Vermelho Claro
        "term_cluster_2": "#f34806", // Laranja Claro
        "term_cluster_3": "#eadb06"  // Amarelo Claro
    };

    const userGroups = ["Large", "Medium", "Small"];
    const termClusters = ["term_cluster_1", "term_cluster_2", "term_cluster_3"];

    const userTitle = document.createElement("h4");
    userTitle.textContent = "Usu√°rios";
    legendContainer.appendChild(userTitle);

    userGroups.forEach(group => {
        if (data.nodes.some(node => node.group === group)) {
            const legendItem = document.createElement("div");
            legendItem.classList.add("legend-item");

            const colorBox = document.createElement("span");
            colorBox.classList.add("legend-color");
            colorBox.style.backgroundColor = colorMapping[group] || "#ccc";

            const textLabel = document.createElement("span");
            textLabel.textContent = `Usu√°rio ${group}`;

            legendItem.appendChild(colorBox);
            legendItem.appendChild(textLabel);
            legendContainer.appendChild(legendItem);
        }
    });

    const termTitle = document.createElement("h4");
    termTitle.textContent = "Termos (Clusters)";
    legendContainer.appendChild(termTitle);

    termClusters.forEach(cluster => {
        if (data.nodes.some(node => node.group === cluster)) {
            const legendItem = document.createElement("div");
            legendItem.classList.add("legend-item");

            const colorBox = document.createElement("span");
            colorBox.classList.add("legend-color");
            colorBox.style.backgroundColor = colorMapping[cluster] || "#ccc";

            const textLabel = document.createElement("span");
            textLabel.textContent = `Cluster ${cluster.split("_")[2]}`;

            legendItem.appendChild(colorBox);
            legendItem.appendChild(textLabel);
            legendContainer.appendChild(legendItem);
        }
    });
}


    // üî• Atualiza a legenda ap√≥s carregar os dados
    updateLegend(data);

    // Inicializa o grafo com a visualiza√ß√£o 3D
    renderGraph3D(data);

  })
  .catch(error => console.error("Erro ao carregar JSON:", error));

  document.addEventListener("DOMContentLoaded", function () {
    setTimeout(() => {
        document.getElementById("preloader").classList.add("hidden");
        setTimeout(() => {
            document.getElementById("preloader").style.display = "none";
        }, 1000); // Aguarda o fade-out antes de remover do DOM
    }, 5000); // Tempo m√°ximo de 5 segundos
});
</script>
</body>
</html>