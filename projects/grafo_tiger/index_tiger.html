<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="./GUNK-_2_.ico">
    <title>Roleta Russa Online | Gunk</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: "SF Pro Display", Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(-145deg, #e9e9e9d0, #d6d6d6);
            overflow: hidden;
        }
        svg {
            border: none;
            background: linear-gradient(-145deg, #d6d6d6, #e9e9e9d0);
        }

        .legend-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            font-family: Arial, sans-serif;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .legend-title {
            font-size: 14px;
            font-weight: bold;
            margin-bottom: 8px;
            text-align: center;
            color: #363636;
        }

        .legend-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 12px;
            color: #3f3f3f;
        }

        .legend-color {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            margin-right: 8px;
            display: inline-block;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        /* Bot√£o de voltar */
        #back-button {
            position: absolute;
            top: 20px;
            left: 30px;
            padding: 12px 15px;
            font-size: 15px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 50%;
            color: rgb(114, 105, 105);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 10;
            border-radius: 50%;
        }
        
        #back-button:hover {
            background: rgba(63, 60, 60, 0.5);
            transform: scale(1.05);
        }

        /* Estilo do bot√£o de abrir o menu */
        #menu-toggle {
            position: absolute;
            top: 20px;
            right: 30px;
            padding: 12px 13px;
            font-size: 15px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 25%;
            color: rgb(114, 105, 105);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 9px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            cursor: pointer;
            z-index: 10;
            border: none;
        }

        #menu-toggle:hover {
           background: rgba(63, 60, 60, 0.5);
        }

        /* Painel de Informa√ß√µes */
        #info-panel {
            position: fixed;
            top: 0;
            right: -450px; /* Esconde o menu fora da tela */
            width: 350px;
            height: 100vh; /* Garante que ocupa toda a altura da tela */
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            border-left: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: -2px 0 10px rgba(0, 0, 0, 0.2);
            transition: right 0.3s ease-in-out;
            display: flex;
            flex-direction: column;
            align-items: center; 
            overflow: hidden;
            padding: 10px;

        }

        #info-panel.open {
            right: 0; /* Mostra o menu */
        }

        /* Bot√£o de Fechar */
        #close-btn {
            align-self: flex-end;
            background: rgba(255, 255, 255, 0.3);
            border: none;
            padding: 5px 10px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 50%;
            transition: background 0.3s ease-in-out;
        }
        
        #close-btn:hover {
            background: rgba(245, 0, 0, 0.5);
            color: rgb(194, 29, 0);
        }

        /* Bot√µes do menu */
        .info-tab {
           width: 90%;
           padding: 15px;
           padding-right: 20px;
           padding-left: 10px;
           margin:5px 0;
           border: none;
           background: rgba(255, 255, 255, 0.3);
           backdrop-filter: blur(10px);
           border-radius: 8px;
           font-size: 14px;
           cursor: pointer;
           transition: background 0.3s ease-in-out;
        }

        .info-tab:hover {
          background: rgba(69, 69, 69, 0.274);
        } 

        /* Se√ß√µes de Conte√∫do */
        .info-section {
            position: absolute;
            top: 0;
            left: 100%;
            width: 100%;
            height: 100%; /* Garante que ocupa todo o painel */
            opacity: 0;
            border-radius: 30%;
            transform: translateX(100%);
            transition: transform 0.4s ease-in-out, opacity 0.3s ease-in-out;
            padding: 2px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* Alinha o conte√∫do ao topo */
            align-items: center;
            overflow-y: auto; /* Adiciona barra de rolagem vertical */
        }

        .info-section.active {
            left: 0;
            opacity: 1;
            transform: translateX(0);
        }

        /* Estiliza a barra de rolagem na vertical */
        .info-section::-webkit-scrollbar {
            width: 8px; 
        }

        .info-section::-webkit-scrollbar-track {
            background:#b0b0b0;  /* Cor do fundo */
            border-radius: 8px;
        }

        .info-section::-webkit-scrollbar-thumb {
            background: #d1c7c7; /* Cor da barra de rolagem */
            border-radius: 5px;
        }
   
        .info-section::-webkit-scrollbar-thumb:hover {
            background: #0287c5; /* Cor mais vibrante ao passar o mouse */
        }

        .back-to-menu {
          margin-top: 10px;
          padding: 6px 12px;
          background: rgba(255, 255, 255, 0.3);
          border: none;
          border-radius: 50%;
          cursor: pointer;
          transition: background 0.3s ease-in-out;
        }

        .back-to-menu:hover {
            background: rgba(245, 0, 0, 0.5);
            color: rgb(194, 29, 0);
        }

        /* Estilo Info-Section */
        #info-content {
            flex: 1; 
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
        }
     
        .info-section {
            position: absolute;
            top: 0;
            left: 100%;
            width: 80%;
            height: 100%; 
            max-width: 600px;
            opacity: 0;
            transform: translateX(100%);
            transition: transform 0.4s ease-in-out, opacity 0.3s ease-in-out;
            padding: 20px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(15px);
            display: flex;
            flex-direction: column;
            justify-content: flex-start; 
            align-items: center;
            overflow-y: auto; 
            border-radius: 18px; 
            text-align: justify;
            line-height: 1.6;
            font-size: 14px;
        }

        .info-section h3 {
            text-align: center;
            margin-bottom: 15px;
            font-size: 18px;
            font-weight: bold;
        }

        ;.info-section h4{
            font-size: 15px;
            margin-top: 10px;
        }

        /* Mostra a se√ß√£o ativa com anima√ß√£o */
        .info-section.active {
            left: 0;
            opacity: 1;
            transform: translateX(0);
        }

        .info-section p {
            width: 95%;
            max-width: 550px; /* Mant√©m a leitura confort√°vel */
            text-align: justify;
            font-size: 13px;
            line-height: 1.5;
            padding: 8px 0;
        }

        .info-section ul {
            list-style: none;
            padding: 0;
            width: 90%;
            max-width: 550px;
        }

        .info-section ul li {
            margin-bottom: 6px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .info-section ul li::before {
            content: "üìå"; /* Adiciona um √≠cone de marcador */
        }
        
        /* Bot√£o de voltar ao menu */
        .back-to-menu {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(180, 180, 180, 0.15);
            color: rgb(114, 105, 105);
            border: none;
            padding: 6px 12px;
            border-radius: 100%;
            cursor: pointer;
            transition: background 0.3s ease-in-out;
        }

        .back-to-menu:hover {
            background: rgba(231, 63, 63, 0.5);
        }

        /* Melhor espa√ßamento nos textos */
        .info-section h3 {
            margin-top: 40px;
            font-size: 18px;    
            color: rgb(49, 47, 47);
        }

        .info-section p {
            font-size: 14px;
            line-height: 1.5;
            color: rgb(49, 47, 47);
        }

        #info-menu {
            display: flex;
            flex-direction: column;
            align-items: star;
            padding: 10px;
            margin-top: 10px;
        }

        #info-menu h2 {
            text-align: center;
        }

        .info-section ul h4 {
            text-align: center;
        }

        .info-section ul {
            list-style: none;
            padding: 6px;
            width: 90%;
            max-width: 600px;
            text-align: justify;
            font-size: 13px;
            border: none;
            border-radius: 10px;
            background-color: #cecece94;
        }

        .info-section ul li {
            margin-bottom: 6px;
            font-size: 13px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .info-section ul li::before {
            font-size: 14px;
            content: "üìå"; /* Adiciona um √≠cone de marcador */
        }

        #info-menu.hidden {
            opacity: 0;
            transform: translateX(-100%);
            pointer-events: none;
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
        }

        /* Painel principal das se√ß√µes */
        #info-content {
            flex: 1; 
            width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
            display: flex;
        }

        /* Rotation Slider */
        .rotation-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
            font-family: Arial, sans-serif;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .rotation-control label {
            font-size: 14px;
            color: rgb(55, 55, 55);
        }

        .rotation-control input {
            width: 100px;
        }

        .rotation-control span {
            font-size: 13px;
            font-weight: bold;
            color: rgb(55, 55, 55);
        }

        /* (Preloader) */
        #preloader {
            position: fixed;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(135deg, #1f41bc, #0638ce); /* Gradiente escuro e sofisticado */
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            color: white;
            font-size: 20px;
            font-family: "Arial", sans-serif;
            text-align: center;
            z-index: 9999;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
        }

        .loader {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #d7dde4, #092feb);
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 85, 0, 0.748);
            animation: pulse 1.5s infinite alternate ease-in-out;
            margin-bottom: 15px;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 15px rgba(255, 94, 0, 0.6);
            }
            100% {
                transform: scale(1.3);
                box-shadow: 0 0 25px rgb(255, 60, 0);
            }
        }

        .hidden {
            opacity: 0;
            transition: opacity 0.5s ease-out;
            pointer-events: none;
        }

        #loading-text {
            font-size: 18px;
            font-weight: bold;
            letter-spacing: 2px;
            overflow: hidden;
            white-space: nowrap;
            width: 0;
            animation: typing 2s steps(15, end) forwards;
        }

        @keyframes typing {
            from { width: 0; }
            to { width: 150px; }
        }

        .hidden {
            opacity: 0;
            transition: opacity 1s ease-out;
            pointer-events: none;
        }
    </style>
</head>
<body>
         <!-- üîπ Tela de Carregamento -->
          <div id="preloader">
            <div class="loader"></div>
            <p>Carregando: Roleta Russa Online</p>
        </div>

    <a href="http://127.0.0.1:5500/viz.html" id="back-button">‚Æå</a>

    <div class="rotation-control">
        <label for="rotation-slider">Rota√ß√£o:</label>
        <input type="range" id="rotation-slider" min="0" max="360" value="0" step="1">
        <span id="rotation-value">0¬∞</span> 
    </div>

    <div class="legend-container">
        <div class="legend-title">üìå Legenda</div>
        <div class="legend-items">
            <!-- Itens da legenda ser√£o adicionados dinamicamente via JavaScript -->
        </div>
    </div>
    
    <!-- Bot√£o para abrir o menu -->
<button id="menu-toggle">‚Ñπ Menu</button>

<!-- Painel de Informa√ß√µes -->
<div id="info-panel">
    <button id="close-btn">‚úñ</button>

    <!-- Menu Principal -->
    <div id="info-menu">
        <h2>Menu de Informa√ß√µes</h2>
        <button class="info-tab" data-tab="general">üü°An√°lise Geral</button>
        <button class="info-tab" data-tab="context">üü¢Base de Dados</button>
        <button class="info-tab" data-tab="graph">üîµOrganiza√ß√£o do Grafo</button>
        <button class="info-tab" data-tab="tools">üî¥Ferramentas Utilizadas</button>
    </div>

    <!-- Se√ß√µes de Conte√∫do -->
    <div id="info-content">
        <div class="info-section" id="general">
            <button class="back-to-menu">ü°Ñ</button>
            <h3>üü° An√°lise Geral</h3>
            <p>
                üü° A an√°lise do grafo revela um cen√°rio complexo e polarizado em torno das apostas esportivas e jogos de azar, 
                refletindo tend√™ncias distintas de discurso e engajamento. Com a crescente legaliza√ß√£o e populariza√ß√£o das bets no Brasil, 
                a rede se fragmenta em diferentes narrativas, variando entre promo√ß√£o, cr√≠tica e a expans√£o do tema para outras √°reas do entretenimento.
            </p>
        
            <h4>üü° Promo√ß√£o Intensa das Apostas e Palpites</h4>
            <p>
                Uma parte significativa do grafo √© dominada por conte√∫dos promocionais, nos quais influenciadores e canais dito especializados incentivam 
                o p√∫blico a aderir √†s plataformas de apostas. O discurso adotado enfatiza "m√©todos lucrativos", estrat√©gias para maximizar ganhos e vantagens oferecidas pelas casas de apostas.
            </p>
        
            <p>
                O formato dos v√≠deos segue um modelo recorrente, com t√≠tulos sensacionalistas e conte√∫dos di√°rios voltados para engajamento. 
                Canais como "Stake Talk Show", "Chris Bet - Investidor Esportivo" e "Boleiros Tips" s√£o alguns dos mais ativos nesse segmento.
            </p>
        
            <h4>üü° Cr√≠ticas e Den√∫ncias: O Lado Oculto das Apostas</h4>
            <p>
                Em contraste com o discurso promocional, h√° uma rede ativa de v√≠deos cr√≠ticos, que alertam sobre os efeitos negativos das apostas. 
                Esses conte√∫dos abordam temas como endividamento, manipula√ß√£o de resultados e os impactos sociais do v√≠cio em apostas.
            </p>
        
            <p>
                Canais de jornalismo e opini√£o t√™m papel central nesse debate, com v√≠deos do "Estad√£o", "Fala Brasil" e "Balan√ßo Geral" expondo 
                hist√≥rias reais de jogadores endividados. Outros influenciadores, como Eduardo Moreira e Bruno Perini, exploram os impactos econ√¥micos do setor.
            </p>
        
            <h4>üü° Expans√£o do Tema para M√∫sica e Entretenimento</h4>
            <p>
                Outro fen√¥meno observado √© a expans√£o do discurso sobre apostas para al√©m do universo esportivo. O termo "aposta" tem sido incorporado 
                em contextos como m√∫sicas, debates pol√≠ticos e at√© na ideia de trading esportivo, que apresenta o mercado de apostas como uma suposta forma 
                de investimento seguro.
            </p>
        
            <h4>üü° Conclus√£o</h4>
             <p>
                O grafo evidencia um ambiente fragmentado, onde diferentes agentes disputam a narrativa sobre as apostas esportivas. 
                Enquanto influenciadores e plataformas promovem as bets como uma oportunidade de lucro, jornalistas e cr√≠ticos alertam sobre seus efeitos negativos.
            </p>
        
            <p>
                O debate reflete um conflito de interesses, no qual a regulamenta√ß√£o e o crescimento do setor geram tanto oportunidades quanto 
                preocupa√ß√µes sociais. A dualidade entre discurso promocional e cr√≠tico demonstra a complexidade do tema e sua relev√¢ncia na esfera p√∫blica.
            </p><br>
        </div>          
        
        <div class="info-section" id="context">
            <button class="back-to-menu">ü°Ñ</button>
            <h3>üü¢ Base de Dados</h3>
            <p>
                üü¢A coleta de dados deste projeto foi realizada utilizando a ferramenta <strong>YouTube Data Tools</strong>, 
                permitindo a extra√ß√£o de informa√ß√µes relevantes sobre v√≠deos relacionados a apostas esportivas e jogos de azar. 
                As <strong>queries</strong> utilizadas para a busca foram <strong>"apostas", "bet" e "jogo do tigrinho"</strong>, 
                selecionadas com o objetivo de identificar conte√∫dos que mencionam temas de interesse dentro do escopo da an√°lise.
            </p>
        
            <p>
                üü¢No total, foram coletados <strong>577 v√≠deos</strong>, abrangendo um volume significativo de intera√ß√µes. 
                Esses v√≠deos somam mais de <strong>1 bilh√£o de visualiza√ß√µes</strong>, evidenciando a alta relev√¢ncia do tema 
                nas plataformas digitais. Al√©m disso, foram registrados mais de <strong>600 mil coment√°rios</strong> e <strong>19 milh√µes curtidas</strong>, 
                demonstrando um alto n√≠vel de engajamento por parte dos usu√°rios.
            </p>
        
            <ul>
                <h4>üìä Dados Quantitativos</h4>
                <li><strong>üì∫ Total de v√≠deos coletados:</strong> 577</li>
                <li><strong>üëÄ Total de views:</strong> 1.605.065.719</li>
                <li><strong>üí¨ Total de coment√°rios:</strong> 630.877</li>
                <li><strong>üëç Total de curtidas:</strong> 19.158.609</li>
            </ul>
            <p>
                üü¢Os dados extra√≠dos incluem informa√ß√µes como <strong>t√≠tulo, descri√ß√£o, tags, categoria, visualiza√ß√µes, curtidas e coment√°rios</strong>, 
                al√©m de detalhes sobre os canais respons√°veis pelos conte√∫dos. A estrutura√ß√£o dos dados foi feita em formato <strong>JSON</strong> 
                e posteriormente organizada em <strong>CSV</strong> para facilitar a an√°lise e a integra√ß√£o com o modelo de visualiza√ß√£o do grafo.
            </p>
        
            <p>
                üü¢A partir dessa base de dados, foi poss√≠vel construir um <strong>grafo interativo</strong>, permitindo a explora√ß√£o das conex√µes entre os v√≠deos 
                e a identifica√ß√£o de padr√µes no comportamento dos usu√°rios e na dissemina√ß√£o dos conte√∫dos analisados.
            </p><br>
        </div>

        <div class="info-section" id="graph">
            <button class="back-to-menu">ü°Ñ</button>
            <h3>üîµ Organiza√ß√£o do Grafo</h3>
            <p>
                üîµA estrutura√ß√£o do grafo foi desenvolvida para representar visualmente a rela√ß√£o entre os elementos analisados, 
                facilitando a identifica√ß√£o de padr√µes e conex√µes. A escolha do modelo **radial** permitiu uma distribui√ß√£o clara e equilibrada dos n√≥s, 
                onde cada elemento √© posicionado de acordo com sua hierarquia e rela√ß√£o com os demais.
            </p>
        
            <p>
                üîµA disposi√ß√£o dos n√≥s segue um esquema hier√°rquico, no qual elementos centrais ocupam posi√ß√µes estrat√©gicas, enquanto 
                n√≥s perif√©ricos representam ramifica√ß√µes derivadas. Esse modelo proporciona uma leitura intuitiva, reduzindo a sobrecarga 
                visual e facilitando a navega√ß√£o.
            </p>
        
            <p>
                üîµAl√©m da distribui√ß√£o radial, foram implementadas funcionalidades interativas, como **zoom e pan**, permitindo que o usu√°rio 
                explore o grafo livremente. Essas ferramentas garantem uma experi√™ncia din√¢mica, possibilitando tanto a vis√£o geral da 
                estrutura quanto a an√°lise detalhada de conex√µes espec√≠ficas.
            </p>
        
            <p>
                üîµA hierarquia dos n√≥s √© definida com base nas rela√ß√µes presentes nos dados fornecidos, garantindo que cada elemento 
                mantenha uma posi√ß√£o coerente dentro da estrutura. Essa abordagem melhora a clareza da visualiza√ß√£o, facilitando a 
                interpreta√ß√£o das informa√ß√µes exibidas no grafo.
            </p>
        
            <p>
                üîµA organiza√ß√£o do grafo tamb√©m inclui ajustes autom√°ticos para evitar sobreposi√ß√£o de n√≥s, garantindo uma visualiza√ß√£o 
                fluida e limpa. Esse balanceamento √© essencial para evitar aglomera√ß√µes e preservar a legibilidade das conex√µes, 
                proporcionando uma experi√™ncia mais eficiente para o usu√°rio.
            </p><br>
        </div>            

        <div class="info-section" id="tools">
            <button class="back-to-menu">ü°Ñ</button>
            <h3>üî¥ Ferramentas Utilizadas</h3>
            <p>
                üî¥O desenvolvimento deste projeto envolveu diversas tecnologias que possibilitaram a constru√ß√£o do grafo interativo 
                e a implementa√ß√£o das funcionalidades da interface. Cada ferramenta foi escolhida estrategicamente para garantir efici√™ncia, 
                desempenho e uma experi√™ncia de usu√°rio fluida.
            </p>
        
            <p>
                üî¥O <strong>D3.js</strong> foi essencial para a cria√ß√£o e manipula√ß√£o do grafo radial, permitindo que os dados fossem estruturados 
                em um formato hier√°rquico adequado. Com essa biblioteca, foi poss√≠vel renderizar dinamicamente os n√≥s e links do grafo, aplicando 
                interatividade e anima√ß√µes para tornar a navega√ß√£o mais intuitiva. Al√©m disso, funcionalidades como <strong>zoom e pan</strong> 
                foram implementadas para facilitar a explora√ß√£o da estrutura de dados.
            </p>
        
            <p>
                üî¥Para a constru√ß√£o da interface, foram empregadas as tecnologias fundamentais da web: <strong>HTML5, CSS3 e JavaScript</strong>. 
                O HTML permitiu a organiza√ß√£o dos elementos na p√°gina, incluindo o painel de informa√ß√µes e a √°rea de visualiza√ß√£o do grafo. 
                O CSS foi utilizado para estilizar a interface, garantindo um <strong>design limpo e responsivo</strong>, com efeitos visuais como 
                <code>backdrop-filter</code> para criar um fundo transl√∫cido semelhante ao estilo do iPhone. J√° o JavaScript foi respons√°vel por 
                controlar as intera√ß√µes, coordenando a altern√¢ncia entre se√ß√µes do painel e garantindo a fluidez na experi√™ncia do usu√°rio.
            </p>
        
            <p>
                üî¥Os dados que comp√µem o grafo foram armazenados em um arquivo <strong>JSON</strong>, um formato leve e eficiente para representar 
                a estrutura hier√°rquica necess√°ria para o funcionamento do D3.js. Esse formato possibilitou a manipula√ß√£o din√¢mica dos n√≥s e links, 
                permitindo ajustes na organiza√ß√£o do grafo sem a necessidade de alterar o c√≥digo-fonte.
            </p>
        
            <p>
                üî¥Cada uma dessas tecnologias foi integrada de forma harmoniosa, proporcionando um ambiente interativo, din√¢mico e visualmente 
                agrad√°vel para a explora√ß√£o dos dados. O resultado √© uma interface eficiente, moderna e acess√≠vel, que permite ao usu√°rio 
                interagir com o grafo de maneira fluida e intuitiva.
            </p> <br>
        </div>
    </div>
</div>
<script>
    // Define dimens√µes do SVG
    const width = window.innerWidth;
    const height = window.innerHeight;
    const radius = Math.min(width, height) / 2;
    
    const svg = d3.select("body")
        .append("svg")
        .attr("width", width)
        .attr("height", height)
        .append("g")
        .attr("transform", `translate(${width / 2}, ${height / 2})`);
    
    // Escala de cores para n√≠veis
    const colorScale = d3.scaleOrdinal(d3.schemeCategory10);
    
    // Fun√ß√£o para identificar os clusters do segundo n√≠vel abaixo de "Narrativas"
    function getClusterNames(root) {
        let clusters = new Set();
        root.children.forEach(child => {
            if (child.parent && child.parent.data.id === "Narrativas") {
                clusters.add(child.data.id); // Adiciona apenas o segundo n√≠vel
            }
        });
        return [...clusters];
    }
    
    // Carrega o JSON e gera o Radial Tree
    d3.json("radial.json").then(data => {
        if (!data || !data.data || !data.data[0] || !data.data[0].values) {
            console.error("JSON inv√°lido ou vazio.");
            return;
        }
        
        const values = data.data[0].values;
        let root = d3.stratify()
            .id(d => d.id)
            .parentId(d => d.parent)
            (values);
    
        const tree = d3.tree().size([2 * Math.PI, 420]);
        tree(root);
    
        const clusters = getClusterNames(root);
        const color = d3.scaleOrdinal(d3.schemeCategory10).domain(clusters);
        
        console.log("Descendants:", root.descendants());
        console.log("Links gerados:", root.links());
    
        // Desenha os links
        svg.append("g")
            .selectAll("path")
            .data(root.links())
            .enter().append("path")
            .attr("fill", "none")
            .attr("stroke", "#ccc")
            .attr("stroke-width", 2)
            .attr("stroke-opacity", 0.9)
            .attr("d", d3.linkRadial()
                .angle(d => d.x)
                .radius(d => d.y))
            .transition()
            .duration(1000)
            .style("stroke-opacity", 1);
    
        // Desenha os e colorindo os n√≥s
        const node = svg.append("g")
            .selectAll("g")
            .data(root.descendants())
            .enter().append("g")
            .attr("transform", d => `rotate(${d.x * 180 / Math.PI - 90}) translate(${d.y},0)`);
            
        const parentColors = {
            "Narrativas": "#ccc", // Cinza neutro
            "Esportes & Games": "#1b5e20", // Verde escuro
            "Educa√ß√£o & Tecnologia": "#0d47a1", // Azul escuro
            "Not√≠cias & Sociedade": "#b71c1c", // Vermelho escuro
            "M√∫sica": "#e65100", // Laranja escuro  
            "Entretenimento": "#ffd321", // Amarelo escuro
            "Outros": " #b81469" // Rosa escuro
        };
    
        function adjustColor(color, depth) {
            if (!color) return "#ccc"; // Se a cor for inv√°lida, usa um cinza neutro
            return d3.color(color).brighter(depth * 0.4).formatRgb(); // Clareia a cor dos filhos
        }
    
        node.append("circle")
            .attr("r", d => d.children ? 6 : 4) // Diferencia tamanho de pais e filhos
            .attr("fill", d => {
                if (d.data.id === "Narrativas") {
                    return "#ccc"; // O n√≥ "Narrativas" ter√° um cinza neutro
                } else if (!d.parent || d.parent.data.id === "Narrativas") {   
                    return parentColors[d.data.id] || "#ccc"; // Define cor para os filhos diretos de "Narrativas"
                } else {
                    let rootAncestor = d.ancestors().find(a => a.parent && a.parent.data.id === "Narrativas"); // Pega o primeiro n√≠vel abaixo de "Narrativas"
                    let rootColor = rootAncestor ? parentColors[rootAncestor.data.id] : null;
                    return adjustColor(rootColor, d.depth); // Aplica a tonalidade ajustada
                }
            });
    
        node.append("text")
            .attr("dy", "0.31em")
            .attr("x", d => d.x < Math.PI ? 6 : -6)
            .attr("text-anchor", d => d.x < Math.PI ? "start" : "end")
            .attr("transform", d => `rotate(${d.x >= Math.PI ? 180 : 0})`)
            .text(d => d.data.id)
            .style("font-size", "7.5px")
            .style("fill", "#333");
    
        // Adiciona Tooltip
        const tooltip = d3.select("body")
            .append("div")
            .style("position", "absolute")
            .style("background", "rgba(0, 0, 0, 0.7)")
            .style("color", "white")
            .style("padding", "5px 10px")
            .style("border-radius", "5px")
            .style("font-size", "12px")
            .style("visibility", "hidden");
    
        // Evento de clique para destacar um grupo de n√≥s
        node.on("click", function (event, d) {
            event.stopPropagation();
            const relatedNodes = new Set(d.ancestors().concat(d.descendants()));
    
            // Reduz a opacidade apenas dos n√≥s que N√ÉO est√£o no grupo selecionado
            node.attr("opacity", n => relatedNodes.has(n) ? 1 : 0.2);
    
            // Reduz a opacidade dos links que N√ÉO pertencem ao cluster selecionado
            svg.selectAll("path")
                .attr("stroke-opacity", link => 
                    (relatedNodes.has(link.source) && relatedNodes.has(link.target)) ? 1 : 0.2);
        });
    
        // Evento para restaurar tudo ao estado original ao clicar fora do grafo
        d3.select("body").on("click", function () {
            svg.selectAll("circle").attr("opacity", 1);
            svg.selectAll("path").attr("stroke-opacity", 0.6);
        });
        
        // Evento de hover para exibir tooltip, sem mudar opacidade
        node.on("mouseover", function (event, d) {
            tooltip.html(`N√≥: <strong>${d.data.id}</strong><br>N√≠vel: ${d.depth}`)
            .style("visibility", "visible");
        })
        .on("mousemove", function (event) {
            tooltip.style("top", `${event.pageY + 10}px`).style("left", `${event.pageX + 10}px`);
        })
        .on("mouseout", function () {
            tooltip.style("visibility", "hidden");
        });
        
        // Adiciona zoom e pan
        const zoom = d3.zoom()
            .scaleExtent([0.5, 5])
            .on("zoom", (event) => {
                svg.attr("transform", event.transform);
            });
    
        d3.select("svg").call(zoom);
    
        // Ajusta o comportamento do zoom para centralizar no cursor
        d3.select("svg").on("dblclick.zoom", function (event) {
            const [mouseX, mouseY] = d3.pointer(event);
            const transform = d3.zoomTransform(svg.node());
            const newTransform = d3.zoomIdentity
                .translate(transform.x, transform.y)
                .scale(transform.k)
                .translate(mouseX - width / 2, mouseY - height / 2)
                .scale(1 / transform.k);
    
            d3.select("svg")
                .transition()
                .duration(750)
                .call(zoom.transform, newTransform);
        });
    
        // Adiciona Legenda
        const levels = d3.range(d3.max(root.descendants(), d => d.depth) + 1);
    
        const legendContainer = document.querySelector(".legend-items");
    
        // Limpa a legenda antes de adicionar novos elementos
        legendContainer.innerHTML = "";
    
        // Adiciona cada categoria como um item na legenda
        Object.entries(parentColors).forEach(([category, color]) => {   
            const legendItem = document.createElement("div");
            legendItem.classList.add("legend-item");
    
            const colorBox = document.createElement("span");
            colorBox.classList.add("legend-color");   
            colorBox.style.backgroundColor = color;
       
            const textLabel = document.createElement("span");
            textLabel.textContent = category;
    
            legendItem.appendChild(colorBox);
            legendItem.appendChild(textLabel);
            legendContainer.appendChild(legendItem);
        });

        // Adiciona cada cluster identificado na legenda
        legendContainer.innerHTML = "";
        clusters.forEach(cluster => {
            const legendItem = document.createElement("div");
            legendItem.classList.add("legend-item");
            
            const colorBox = document.createElement("span");
            colorBox.classList.add("legend-color");
            colorBox.style.backgroundColor = parentColors[cluster] || "#ccc"; // Cor padr√£o se n√£o houver
    
            const textLabel = document.createElement("span");
            textLabel.textContent = cluster;
    
            legendItem.appendChild(colorBox);
            legendItem.appendChild(textLabel);
            legendContainer.appendChild(legendItem);
        });
    });
    
    // Menu de Informa√ß√µes
    document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.getElementById("menu-toggle");
        const infoPanel = document.getElementById("info-panel");
        const closeBtn = document.getElementById("close-btn");
        const infoMenu = document.getElementById("info-menu");
        const infoTabs = document.querySelectorAll(".info-tab");
        const infoSections = document.querySelectorAll(".info-section");
        const backButtons = document.querySelectorAll(".back-to-menu");
        const rotationSlider = document.getElementById("rotation-slider");
        const rotationValue = document.getElementById("rotation-value");
        const legendContainer = document.querySelector(".legend-items");
        const graphGroup = d3.select("svg g");
    
        // Define largura e altura da tela para posicionamento correto
        const width = window.innerWidth;
        const height = window.innerHeight;
    
        // Fun√ß√£o para esconder o bot√£o do menu
        function hideMenuButton() {
            if (menuToggle) menuToggle.style.display = "none";
        }
    
        // Fun√ß√£o para mostrar o bot√£o do menu
        function showMenuButton() {
            if (menuToggle) menuToggle.style.display = "block";
        }
    
        // Abrir o menu lateral e esconder o bot√£o
        if (menuToggle) {
            menuToggle.addEventListener("click", () => {
                infoPanel.classList.add("open");
                hideMenuButton();
            });
        }
    
        // Fechar o menu lateral e voltar para o menu principal
        if (closeBtn) {
            closeBtn.addEventListener("click", () => {
                infoPanel.classList.remove("open");
                resetSections(); // Retorna ao menu principal
                showMenuButton();
            });
        }
    
        // Alternar entre as se√ß√µes e esconder o menu principal
        infoTabs.forEach(tab => {
            tab.addEventListener("click", () => {
                infoMenu.style.display = "none"; // Esconde o menu principal
                infoSections.forEach(section => section.classList.remove("active"));
                document.getElementById(tab.dataset.tab).classList.add("active"); // Exibe a se√ß√£o escolhida
            });
        });
    
        // Bot√£o de voltar para o menu principal
        backButtons.forEach(button => {
            button.addEventListener("click", () => {
                resetSections();
            });
        });
    
        // Reseta as se√ß√µes ao menu principal e faz o bot√£o do menu reaparecer
        function resetSections() {
            infoMenu.style.display = "block"; // Mostra o menu principal
            infoSections.forEach(section => section.classList.remove("active"));
        }
    
        // Permite voltar ao menu com a tecla "ArrowLeft" (se n√£o estiver alterando rota√ß√£o)
        document.addEventListener("keydown", function (event) {
            if (event.key === "ArrowLeft" && document.activeElement !== rotationSlider) {
                resetSections();
            }
        });
    
        // Rotation Slider
        let currentAngle = 0;
    
        // Atualiza a rota√ß√£o do grafo conforme o usu√°rio move o slider
        if (rotationSlider) {
            rotationSlider.addEventListener("input", function () {
                let newAngle = parseInt(this.value);
                currentAngle = newAngle; // Atualiza √¢ngulo globalmente
                rotationValue.textContent = `${currentAngle}¬∞`;
                graphGroup.attr("transform", `translate(${width / 2}, ${height / 2}) rotate(${currentAngle})`);
            });
        }
    
        // Permite continuar girando sem limite ao segurar as setas do teclado
        document.addEventListener("keydown", function (event) {
            if (event.key === "ArrowLeft" && document.activeElement !== rotationSlider) {
                currentAngle -= 10;
            } else if (event.key === "ArrowRight" && document.activeElement !== rotationSlider) {
                currentAngle += 10;
            }
    
            // Atualiza o slider para refletir a mudan√ßa
            if (rotationSlider) {
                rotationSlider.value = currentAngle;
                rotationValue.textContent = `${currentAngle}¬∞`;
                graphGroup.attr("transform", `translate(${width / 2}, ${height / 2}) rotate(${currentAngle})`);
            }
        });

        // Adiciona o c√≥digo para ocultar o preloader
        setTimeout(() => {
            document.getElementById("preloader").classList.add("hidden");
            setTimeout(() => {
                document.getElementById("preloader").style.display = "none";
            }, 1000); // Aguarda o fade-out antes de remover do DOM
        }, 5000); // Tempo m√°ximo de 5 segundos
    });
</script>
</body>
</html>
</body>
</html>
